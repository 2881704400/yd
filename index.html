<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>
            首页
        </title>
        <link href="css/index.css" rel="stylesheet" type="text/css"/>
        <link href="css/infoWindow.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div class="main clear">
        	<!-- 左侧 -->
            <div class="main-left">
                <!-- 左侧上部分 -->
                <div class="main-left-top">
                    <h1></h1>
                    <div class="main-left-top-con">
                        <div class="main-left-top-con-left clear">
                            <span>
                                <b>优</b>
                                <p>空气质量</p>
                            </span>
                            <span>
                                <b id="wd_val">0</b>℃<p>平均温度</p>
                                <div class="wd_echart">
                                    <!--<div id="chart9"><div></div></div>-->
                                </div>
                            </span>
                            <span>
                                <b id="fb_val">0</b>%<p>平均湿度</p>
                                <div class="wd_echart">
                                    <div id="chart8" style="width: 100%;height: 100%;">
                                    </div>
                                </div>
                            </span>
                        </div>
                        <div class="main-left-top-con-right clear">
                            <span>
                                <b id="zs_val">0</b>
                                <p>检测探头总数</p>
                            </span>
                            <span>
                                <b id="zx_val">0</b>
                                <p>在线</p>
                            </span>
                            <span>
                                <b id="lx_val">0</b>
                                <p>离线</p>
                            </span>
                            <span>
                                <b id="bj_val">0</b>
                                <p>报警</p>
                            </span>
                        </div>
                    </div>
                    <div class="main-left-top-footer clear"> 
                        <div class="main-left-top-footer-left">
                            <h1></h1>
                            <div>
                                <div id="chart1" style="width: 100%;height: 100%;">
                                </div>
                            </div>
                        </div> 
                        <div class="main-left-top-footer-right">
                            <h1></h1>
                            <div>
                                <div id="chart2" style="width: 100%;height: 100%;">
                                </div>
                            </div>
                        </div> 
                    </div>                  
                </div>
                <!-- 左侧下部分 -->
                <div class="main-left-bottom">
                    <h1></h1>
                    <div class="main-left-bottom-con">
                        <div class="main-left-bottom-con-child">
                            <span>
                                <b id="zs_val1">0</b>
                                <p>
                                    当前设备在线数量
                                </p>
                            </span>
                            <span>
                                <b id="zx_val1">0</b>
                                <p>
                                    设备拆除警报数量
                                </p>
                            </span>
                            <span>
                                <b id="lx_val1">0</b>
                                <p>
                                    温度主动告警
                                </p>
                            </span>
                            <span>
                                <b id="bj_val1">0</b>
                                <p>
                                    烟雾主动告警
                                </p>
                            </span>
                        </div>
                     </div>

                    <div class="main-left-bottom-footer clear"> 
                        <div class="main-left-bottom-footer-child">
                            <div>
                                <div id="chart4" style="width: 100%;height: 100%;">
                                </div>
                            </div>
                            <div>
                                <div id="chart5" style="width: 100%;height: 100%;">
                                </div>
                            </div>
                            <div>
                                <div id="chart6" style="width: 100%;height: 100%;">
                                </div>
                            </div>
                            <div>
                                <div id="chart7" style="width: 100%;height: 100%;">
                                </div>
                            </div>
                        </div>
                    </div> 

                </div>
            </div>
            <!-- 中间 -->
            <div class="main-center">
            	<div class="main-center-menu">
            		<a href="environmentalControl.html" class="environ"><img src="./img/environ.png" alt=""></a>
            		<a href="fireControl.html" class="fire"><img src="./img/fire.png" alt=""></a>
            		<a href="parkingControl.html" class="parking"><img src="./img/parking.png" alt=""></a>
            	</div>
            </div>
            <!-- 右侧 -->
            <div class="main-right">
                <div class="main-right-top">
                    <h1></h1>
                    <div class="main-right-top-con">
                        <div class="main-right-top-con-right clear">
                            <span><label>车位总数</label><b>252</b></span>
                            <span><label>已用车位</label><b>202</b></span>
                            <span><label>剩余车位</label><b>50</b></span>
                        </div>
                    </div>
                </div>
                <div class="main-right-bottom">
                    <h1>区域车位</h1>
                    <div>
                        <div id="chart10" style="width: 100%;height: 100%;">
                        </div>
                    </div>
                </div>                
                <div class="main-right-center">
                    <h1>车位使用</h1>
                    <div>
                        <div id="chart3" style="width: 100%;height: 100%;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script charset="utf-8" src="js/jquery-1.10.2.min.js" type="text/javascript">
        </script>
        <script charset="utf-8" src="js/echarts3.min.js" type="text/javascript">
        </script>
        <script charset="utf-8" src="js/echarts-liquidfill.min.js" type="text/javascript">
        </script>
        <script charset="utf-8" src="js/index.js" type="text/javascript">
        </script>
        <script>
            function sup(n) {return(n < 10) ? '0' + n : n;}
        </script>
        <script type="text/javascript">
            function numRunFun(id,num,maxNum){ //从0至现在值
			var numText = num;
			var golb; 
			function numSlideFun(){
				numText+=1; 
				if(numText >= maxNum){
					numText = maxNum;	
					cancelAnimationFrame(golb);
				}else {
					golb = requestAnimationFrame(numSlideFun);
				}
				id.innerHTML = ~~(numText)
				
			}
			numSlideFun();
		}
		function transformval(id,oldVal,newVal){
			 var val,index,IncreaseOrdecrease;
             function transVal(){
             	 val = newVal - oldVal
             	 if(val>0)
				 {
	                oldVal++; IncreaseOrdecrease= requestAnimationFrame(transVal);
				 }
				 else if(val<0)
				 {
	                oldVal--;IncreaseOrdecrease= requestAnimationFrame(transVal);
				 }
				 else
				 	cancelAnimationFrame(IncreaseOrdecrease);
                 id.innerHTML = ~~(oldVal);
             }
             transVal();
		}
		var wd_val = document.getElementById('wd_val');
		var fb_val = document.getElementById('fb_val');
		var zs_val = document.getElementById('zs_val');
		var zx_val = document.getElementById('zx_val');
		var lx_val = document.getElementById('lx_val');
		var bj_val = document.getElementById('bj_val');
		numRunFun(wd_val,0,22); //1
		numRunFun(fb_val,0,53); //2
		numRunFun(zs_val,0,5); //3
		numRunFun(zx_val,0,5); //4
		numRunFun(lx_val,0,0); //5
		numRunFun(bj_val,0,0); //6

		var zs_val1 = document.getElementById('zs_val1');
		var zx_val1 = document.getElementById('zx_val1');
		var lx_val1 = document.getElementById('lx_val1');
		var bj_val1 = document.getElementById('bj_val1');
		numRunFun(zs_val1,0,10); //3
		numRunFun(zx_val1,0,0); //4
		numRunFun(lx_val1,0,0); //5
		numRunFun(bj_val1,0,0); //6

		/*setInterval(function(){
			var wd_val_olVal = parseInt(wd_val.innerHTML),wd_val_newVal = Math.ceil(Math.random()*3)+25;transformval(wd_val,wd_val_olVal,wd_val_newVal); temperature(100-wd_val_newVal*100/50)
			var fb_val_olVal = parseInt(fb_val.innerHTML),fb_val_newVal = Math.ceil(Math.random()*5)+50;transformval(fb_val,fb_val_olVal,fb_val_newVal); liquidFillChangeChart("chart8",fb_val_newVal/100);
			var zs_val_olVal = parseInt(zs_val.innerHTML),zs_val_newVal = Math.ceil(Math.random()*100);transformval(zs_val,zs_val_olVal,zs_val_newVal);
			var zx_val_olVal = parseInt(zx_val.innerHTML),zx_val_newVal = Math.ceil(Math.random()*100);transformval(zx_val,zx_val_olVal,zx_val_newVal);
			var lx_val_olVal = parseInt(lx_val.innerHTML),lx_val_newVal = Math.ceil(Math.random()*10);transformval(lx_val,lx_val_olVal,lx_val_newVal);
			var bj_val_olVal = parseInt(bj_val.innerHTML),bj_val_newVal = Math.ceil(Math.random()*10);transformval(bj_val,bj_val_olVal,bj_val_newVal);

			var zs_val1_olVal = parseInt(zs_val1.innerHTML),zs_val1_newVal = Math.ceil(Math.random()*50)+1000;transformval(zs_val1,zs_val1_olVal,zs_val1_newVal);
			var zx_val1_olVal = parseInt(zx_val1.innerHTML),zx_val1_newVal = Math.ceil(Math.random()*10);transformval(zx_val1,zx_val1_olVal,zx_val1_newVal);
			var lx_val1_olVal = parseInt(lx_val1.innerHTML),lx_val1_newVal = Math.ceil(Math.random()*10);transformval(lx_val1,lx_val1_olVal,lx_val1_newVal);
			var bj_val1_olVal = parseInt(bj_val1.innerHTML),bj_val1_newVal = Math.ceil(Math.random()*10);transformval(bj_val1,bj_val1_olVal,bj_val1_newVal);
		},5000);*/
        </script>
        <script type="text/javascript">
        	function temperature(top_val){
               $("#chart9").css("top",top_val+"%");
        	}
        </script> 
        <script type="text/javascript">
         $(function() {
                twoZheColorChangeChart("chart1");
                twoZhuColorChangeChart("chart2");
                fourCircleColorChangeChart("chart4", "烟感故障");
                fourCircleColorChangeChart("chart5", "温度故障");
                fourCircleColorChangeChart("chart6", "烟雾传感器串口故障");
                fourCircleColorChangeChart("chart7", "烟雾主板故障");
                liquidFillChangeChart("chart8",0.53);
                oneZheAreaColorChangeChart("chart3",'rgba(244, 139, 37, 1)');
                EightCircleColorChangeChart("chart10", 140, 128, 147, 97, 20, 18, 20, 18, 140, 128, 147, 97, 20, 18, 20, 18);
         });
        </script>           
    </body>
</html>
